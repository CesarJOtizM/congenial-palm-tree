#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸš€ Â¡Hora de validar todo antes del push!'

echo 'ğŸ§ğŸ” Revisando que todo estÃ© en orden con ESLint, espera...'
bun run eslint ||
(
    echo 'ğŸš¨ğŸš¨ Â¡ESLint encontrÃ³ problemas! No puedes hacer push con cÃ³digo sucio. ğŸš¨ğŸš¨\n'
    echo 'Corrige los errores de ESLint antes de hacer push.';
    false;
)

echo 'ğŸ’…âœ¨ Verificando que los estilos estÃ©n perfectos, espera...'
bun run stylelint ||
(
    echo 'ğŸ‘—ğŸ‘— Â¡Tus estilos estÃ¡n mÃ¡s desordenados que tu habitaciÃ³n! ğŸ‘—ğŸ‘—\n'
    echo 'Corrige los errores de Stylelint antes de hacer push.';
    false;
)

echo 'ğŸ§ ğŸ” Chequeando que los tipos estÃ©n correctos, espera...'
bun run check-types ||
(
    echo 'ğŸ¤¡âŒ Â¡Chequeo de tipos fallido! Â¿EstÃ¡s seguro de que sabes programar? ğŸ¤¡âŒ\n'
    echo 'Corrige los errores de TypeScript antes de hacer push.';
    false;
)

echo 'ğŸ§ªğŸ”¬ Ejecutando los tests, espera...'
bun run test ||
(
    echo 'ğŸ’¥ğŸ’¥ Â¡Los tests explotaron mÃ¡s fuerte que tu cafÃ© esta maÃ±ana! ğŸ’¥ğŸ’¥\n'
    echo 'Corrige los tests que fallaron antes de hacer push.';
    false;
)

echo 'ğŸ‰âœ… Â¡Todo perfecto! Tu cÃ³digo estÃ¡ listo para conquistar el mundo. Â¡A hacer push! ğŸ‰âœ…'
